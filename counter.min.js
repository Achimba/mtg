function playerLayoutDefault(e){for(var n=[null,"100%","50%","33.3%","25%","20%","16.6%","14.28%","12.5%"],t=0;t<e.length;t++)e[t].style.height=n[e.length],e[t].style.display="block"}function playerLayoutHelper(e,n){for(var t=0;t<e.length;t++){var a=e[t].className;e[t].className=a+" "+n[t]}}function playerLayoutTwo(e){e[0].className=e[0].className+" two-t",e[1].className=e[1].className+" two-b"}function playerLayoutThree(e){playerLayoutHelper(e,["four-t-l","four-t-r","four-b-l"])}function playerLayoutFour(e){playerLayoutHelper(e,["four-t-l","four-t-r","four-b-l","four-b-r"])}function playerLayoutFive(e){playerLayoutHelper(e,Array(5).fill("five"))}function playerLayoutSix(e){playerLayoutHelper(e,["six-t-l","six-t-r","six-m-l","six-m-r","six-b-l","six-b-r"])}function playerLayoutSeven(e){playerLayoutHelper(e,Array(7).fill("seven"))}function playerLayoutEight(e){playerLayoutHelper(e,Array(8).fill("eight"))}function setPlayerlayout(e){var n=document.getElementsByClassName("active");switch(e){case 2:playerLayoutTwo(n);break;case 3:playerLayoutThree(n);break;case 4:playerLayoutFour(n);break;case 5:playerLayoutFive(n);break;case 6:playerLayoutSix(n);break;case 7:playerLayoutSeven(n);break;case 8:playerLayoutEight(n);break;default:playerLayoutDefault(n)}}function setBackgroundAndActive(e,n){e.className="row active noise "+["c1","c2","c3","c4","c5","c6","c7","c8"][n]}function setStartingLifeTotal(){var e=document.getElementById("startLife"),n=e.options[e.selectedIndex].value;null!=n&&""!=n||(n="40");for(var t=document.getElementsByClassName("life"),a=0;a<t.length;a++)t[a].innerText=n}function displayRows(e){for(var n=document.getElementsByClassName("row"),t=0;t<e;t++)setBackgroundAndActive(n[t],t);setPlayerlayout(e),setStartingLifeTotal(),document.getElementById("choose").className="choose hidden",document.getElementById("play").className="play"}function death(e,n){n.innerText="";for(var t=document.getElementsByClassName(e),a=0;a<t.length;a++)t[a].disabled=!0;n.className="life dead",n.nextElementSibling.children[2].className="animate",n.parentElement.style.backgroundColor="#000000",n.parentElement.classList.remove("noise")}function animateDead(e,n,t){n.className="life",n.innerText="1";for(var a=document.getElementsByClassName(e),l=0;l<a.length;l++)a[l].disabled=!1;t.className="animate hidden",n.parentElement.classList.add("noise"),n.parentElement.removeAttribute("style")}function displayLife(e,n,t){t<=0?death(e,n):n.innerText=t.toString()}function changeLife(e,n){var t=document.getElementById(e),a=t.innerText;null!=a&&""!=a&&displayLife(e,t,parseInt(a)+parseInt(n))}function plusLife(e){changeLife(e,1)}function minusLife(e){changeLife(e,-1)}function mousedownChangeValue(e){var n=e.dataset.id;e.className.includes("plus")?plusLife(n):e.className.includes("minus")&&minusLife(n)}function toggleFullScreen(){var e=window.document,n=e.documentElement,t=n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen,a=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?a.call(e):t.call(n)}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js",{scope:"/"}).then(function(e){e.installing?console.log("Service worker installing"):e.waiting?console.log("Service worker installed"):e.active&&console.log("Service worker active")}).catch(function(e){console.log("Registration failed with "+e)});var g_pressTimer=null;function runPressTimer(e){var n=e.target.dataset.id,t=document.getElementById(n),a=parseInt(t.innerText);"-"==e.target.value&&a<=2?finishPress(e):(mousedownChangeValue(e.target),null!=g_pressTimer&&clearPressTimer(),g_pressTimer=window.setTimeout(function(){runPressTimer(e)},250))}function clearPressTimer(){window.clearTimeout(g_pressTimer),g_pressTimer=null}var g_pressed=!1;function handlePress(e){g_pressed=!0,g_pressTimer=window.setTimeout(function(){runPressTimer(e)},500)}function handlePressUp(e){finishPress(e)}function handlePanEnd(e){finishPress(e)}function finishPress(e){g_pressed&&(clearPressTimer(),g_pressed=!1)}function handleSwipe(e){toggleFullScreen()}function initTouchyFeelyHandsyStuff(e){var n=new Hammer(e);n.on("swipeleft",function(e){e.preventDefault(),handleSwipe(e)}),n.on("swiperight",function(e){e.preventDefault(),handleSwipe(e)}),n.get("pan").set({direction:Hammer.DIRECTION_ALL}),n.on("press",function(e){e.preventDefault(),handlePress(e)}),n.on("pressup",function(e){e.preventDefault(),handlePressUp(e)}),n.on("panend",function(e){e.preventDefault(),handlePanEnd(e)})}window.addEventListener("load",function(e){for(var n=document.getElementsByClassName("players"),t=0;t<n.length;t++)n[t].addEventListener("click",function(e){displayRows(parseInt(e.srcElement.value))},!1);var a=["plus","minus"];for(t=0;t<a.length;t++)for(var l=document.getElementsByClassName(a[t]),r=0;r<l.length;r++){var s=l[r];s.addEventListener("click",function(e){mousedownChangeValue(e.srcElement)},!1),initTouchyFeelyHandsyStuff(s)}var i=document.getElementsByClassName("animate");for(t=0;t<i.length;t++)i[t].addEventListener("click",function(e){var n=e.srcElement,t=n.dataset.id;animateDead(t,document.getElementById(t),n)},!1)});